{{template "admin/layout_head" (dict "ctxData" . "pageClass" "admin plugins")}}
	<div class="admin-setting-content">
		<h4 class="ui top attached header">
			{{ctx.Locale.Tr "admin.plugins.title"}}
			<div class="ui right">
				<a class="ui primary button" href="{{AppSubUrl}}/admin/plugins/market">
					{{svg "octicon-download"}} {{ctx.Locale.Tr "admin.plugins.browse_market"}}
				</a>
			</div>
		</h4>
		<div class="ui attached segment">
			{{if .Plugins}}
				<table class="ui very basic striped table">
					<thead>
						<tr>
							<th>{{ctx.Locale.Tr "admin.plugins.name"}}</th>
							<th>{{ctx.Locale.Tr "admin.plugins.version"}}</th>
							<th>{{ctx.Locale.Tr "admin.plugins.author"}}</th>
							<th>{{ctx.Locale.Tr "admin.plugins.status"}}</th>
							<th>{{ctx.Locale.Tr "admin.plugins.actions"}}</th>
						</tr>
					</thead>
					<tbody>
						{{range .Plugins}}
							<tr>
								<td>
									<strong>{{.Name}}</strong>
									<br>
									<small class="text grey">{{.Description}}</small>
								</td>
								<td>
									<code>{{.Version}}</code>
								</td>
								<td>
									{{if .Homepage}}
										<a href="{{.Homepage}}" target="_blank">{{.Author}}</a>
									{{else}}
										{{.Author}}
									{{end}}
								</td>
								<td>
									{{if .IsEnabled}}
										<span class="ui green label">{{ctx.Locale.Tr "admin.plugins.enabled"}}</span>
									{{else}}
										<span class="ui grey label">{{ctx.Locale.Tr "admin.plugins.disabled"}}</span>
									{{end}}
								</td>
								<td>
									<form method="post" action="{{AppSubUrl}}/admin/plugins/{{.PluginID}}/toggle" style="display: inline;">
										{{$.CsrfTokenHtml}}
										{{if .IsEnabled}}
											<input type="hidden" name="action" value="disable">
											<button class="ui button" type="submit">
												{{svg "octicon-x"}} {{ctx.Locale.Tr "admin.plugins.disable"}}
											</button>
										{{else}}
											<input type="hidden" name="action" value="enable">
											<button class="ui primary button" type="submit">
												{{svg "octicon-check"}} {{ctx.Locale.Tr "admin.plugins.enable"}}
											</button>
										{{end}}
									</form>
									<form method="post" action="{{AppSubUrl}}/admin/plugins/{{.PluginID}}/uninstall" style="display: inline;">
										{{$.CsrfTokenHtml}}
										<button class="ui red button" type="submit" onclick="return confirm('{{ctx.Locale.Tr "admin.plugins.uninstall_confirm"}}')">
											{{svg "octicon-trash"}} {{ctx.Locale.Tr "admin.plugins.uninstall"}}
										</button>
									</form>
								</td>
							</tr>
						{{end}}
					</tbody>
				</table>
			{{else}}
				<div class="ui center aligned segment">
					<p>{{ctx.Locale.Tr "admin.plugins.no_plugins"}}</p>
					<a class="ui primary button" href="{{AppSubUrl}}/admin/plugins/market">
						{{svg "octicon-download"}} {{ctx.Locale.Tr "admin.plugins.browse_market"}}
					</a>
				</div>
			{{end}}
		</div>
	</div>
{{template "admin/layout_footer" .}}
